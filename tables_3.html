<!DOCTYPE html>
<html>
  <style>
  </style>
  <body>

    <h2>Some HTML table tests</h2>

    <div id="root"></div>

  </body>
</html>

<script>
 let data = [
   {section: "section 1", subsection1: "foo", subsection2: "12",},
   {section: "section 1", subsection1: "bar", subsection2: "52",},
   {section: "section 1", subsection1: "baz", subsection2: "55",},
   {section: "section 2", subsection1: "foobar", subsection2: "42",},
   {section: "section 2", subsection1: "foobaz", subsection2: "39",},
   {section: "section 2", subsection1: "barbaz", subsection2: "61",},
 ];

 function createTable(parentEl) {
   let table = document.createElement("table");

   // header row
   let header = document.createElement("tr");
   for (let prop in data[0]) {
     let th = document.createElement("th");
     let txt = document.createTextNode(prop);
     th.appendChild(txt);
     header.appendChild(th);
   }
   table.appendChild(header);

   // rows
   for (let i = 0; i < data.length; i++) {
     // rows
     let tr = document.createElement("tr");

     let line = data[i];
     Object.entries(line).forEach( ([key, value], index) => {
       let td = document.createElement("td");
       let txt = document.createTextNode(value);
       if (index === 0) {
         var checkbox = document.createElement("input");
         checkbox.type = "checkbox";
         td.appendChild(checkbox);
       }
       td.appendChild(txt);
       tr.appendChild(td);
     });

     table.appendChild(tr);
   }

   parentEl.appendChild(table);
 }

 createTable(document.querySelector("#root"));

</script>
